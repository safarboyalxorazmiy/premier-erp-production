"use strict";(self.webpackChunkproduction_pages=self.webpackChunkproduction_pages||[]).push([[831],{5831:(b,m,i)=>{i.r(m),i.d(m,{MetallModule:()=>Z});var c=i(9808),u=i(4054),f=i(5861),e=i(7587),g=i(715),T=i(845);function y(l,a){if(1&l){const t=e.EpF();e.TgZ(0,"div")(1,"h1"),e._uU(2,"Maxsulot turini tanlang"),e.qZA(),e.TgZ(3,"div",2)(4,"button",3),e.NdJ("click",function(){return e.CHM(t),e.oxw().selectType("F")}),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return e.CHM(t),e.oxw().selectType("E")}),e.qZA()()()}}function v(l,a){if(1&l){const t=e.EpF();e.TgZ(0,"button",7),e.NdJ("click",function(){const p=e.CHM(t).$implicit;return e.oxw(2).selectModel(p)}),e.qZA()}2&l&&e.s9C("label",a.$implicit.name)}function _(l,a){if(1&l&&(e.TgZ(0,"div")(1,"h1",5),e._uU(2,"Maxsulot turini tanlang"),e.qZA(),e.TgZ(3,"div",5),e.YNc(4,v,1,1,"button",6),e.qZA()()),2&l){const t=e.oxw();e.xp6(4),e.Q6J("ngForOf",t.modelList)}}function o(l,a){if(1&l&&(e.TgZ(0,"a",10),e._uU(1),e.qZA()),2&l){const t=a.$implicit;e.MGl("href","/metall/",t.id,"",e.LSH),e.xp6(1),e.Oqu(t.name+" "+t.comment)}}function r(l,a){if(1&l&&(e.TgZ(0,"div")(1,"div",8),e.YNc(2,o,2,2,"a",9),e.qZA()()),2&l){const t=e.oxw();e.xp6(2),e.Q6J("ngForOf",t.modelArray)}}const h=[{path:"",component:(()=>{class l{constructor(t,n){this.api=t,this.renderer=n,this.time=new Date,this.line=9,this.serial="",this.added=!1,this.addedText="Kiritildi",this.someError=!1,this.errorText="",this.modelList=[{name:"211",code:"A"},{name:"215",code:"M"},{name:"261",code:"B"},{name:"270",code:"N"},{name:"315",code:"C"},{name:"317",code:"D"},{name:"320",code:"O"},{name:"330",code:"P"},{name:"222",code:"G"},{name:"250",code:"S"},{name:"350",code:"L"}],this.selectedType=!1,this.type="",this.selectedModel=!1,this.modelArray=[],this.model="",this.selectedColor=!1}ngOnInit(){var t=this;return(0,f.Z)(function*(){t.intervalId=setInterval(()=>{t.time=new Date},1e3),t.models=yield t.api.getModels(),console.log(t.models)})()}change(){this.serial.includes("clear")&&(this.serial=""),this.serial.includes("refresh")&&location.reload()}submit(){var t=this;return(0,f.Z)(function*(){let n={serial:t.sendSerial,line:t.line},d=yield t.api.serialInput(n);if(t.serial="",console.log("result: ",d),"ok"!=d.result)return t.someError=!0,t.added=!1,void(t.errorText=`${d.error}`);t.someError=!1,t.errorText="";let p={line:t.line};t.lastProduct=yield t.api.getLast(p),t.count=yield t.api.getToday(p),t.byModel=yield t.api.getTodayByModels(p),t.rest=yield t.api.getSectorBalance(p),t.added=!0,setTimeout(()=>{t.added=!1},3e3)})()}selectType(t){this.selectedType=!0,this.type=t}selectModel(t){this.selectedModel=!0;for(const n of this.models)n.name.includes(t.name)&&this.modelArray.push(n);console.log(this.modelArray)}setModel(t){this.model=t}}return l.\u0275fac=function(t){return new(t||l)(e.Y36(g.g),e.Y36(e.Qsj))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-metall"]],decls:4,vars:3,consts:[[1,"flex",2,"justify-content","center","align-items","center","flex-direction","column"],[4,"ngIf"],[1,"flex",2,"gap","20px","justify-content","center"],["pButton","","pRipple","","label","LOCAL",1,"p-button-success",3,"click"],["pButton","","pRipple","","label","EXPORT",1,"p-button-success",3,"click"],[1,"text-center"],["pButton","","pRipple","","class","p-button-success mx-2 mb-2",3,"label","click",4,"ngFor","ngForOf"],["pButton","","pRipple","",1,"p-button-success","mx-2","mb-2",3,"label","click"],[1,"flex",2,"flex-direction","column","height","95vh","align-items","center","justify-content","center","gap","70px"],["style","color: black; text-decoration: underline; font-size: 24px;",3,"href",4,"ngFor","ngForOf"],[2,"color","black","text-decoration","underline","font-size","24px",3,"href"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.YNc(1,y,6,0,"div",1),e.YNc(2,_,5,1,"div",1),e.YNc(3,r,3,1,"div",1),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",!n.selectedType),e.xp6(1),e.Q6J("ngIf",n.selectedType&&!n.selectedModel),e.xp6(1),e.Q6J("ngIf",n.selectedType&&n.selectedModel&&""==n.model))},directives:[c.O5,T.Hq,c.sg],styles:[""]}),l})()}];let x=(()=>{class l{}return l.\u0275fac=function(t){return new(t||l)},l.\u0275mod=e.oAB({type:l}),l.\u0275inj=e.cJS({imports:[[u.Bz.forChild(h)],u.Bz]}),l})();var M=i(2382),C=i(1424),A=i(4851),E=i(4534);let Z=(()=>{class l{}return l.\u0275fac=function(t){return new(t||l)},l.\u0275mod=e.oAB({type:l}),l.\u0275inj=e.cJS({imports:[[c.ez,x,T.hJ,M.u5,E.V,A.U$,C.j]]}),l})()},4534:(b,m,i)=>{i.d(m,{V:()=>_});var c=i(7587),u=i(9808);let _=(()=>{class o{}return o.\u0275fac=function(s){return new(s||o)},o.\u0275mod=c.oAB({type:o}),o.\u0275inj=c.cJS({imports:[[u.ez]]}),o})()}}]);