"use strict";(self.webpackChunkproduction_pages=self.webpackChunkproduction_pages||[]).push([[708],{3708:(A,s,i)=>{i.r(s),i.d(s,{IncomeModule:()=>x});var c=i(9808),m=i(4054),p=i(5861),e=i(7587),f=i(715),u=i(159),a=i(2382),g=i(1424),h=i(4851),v=i(9783);function T(o,l){1&o&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"Code"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"Name"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"Quantity"),e.qZA()())}function Z(o,l){if(1&o&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA()()),2&o){const n=l.$implicit;e.xp6(2),e.Oqu(n.code),e.xp6(2),e.Oqu(n.name),e.xp6(2),e.Oqu(n.quantity)}}function I(o,l){if(1&o&&(e.TgZ(0,"div")(1,"p-table",9),e.YNc(2,T,7,0,"ng-template",10),e.YNc(3,Z,7,3,"ng-template",11),e.qZA()()),2&o){const n=e.oxw();e.xp6(1),e.Q6J("value",n.balance.data)("scrollable",!0)}}const y=[{path:"",component:(()=>{class o{constructor(n){this.api=n,this.serial="",this.line=2,this.loaded=!1,this.someError=!1,this.errorText="",this.added=!1,this.addedText="",this.sendSerial="",this.lines=[{name:"Metall formovka",code:9},{name:"Vakum formovka",code:1}]}ngOnInit(){var n=this;return(0,p.Z)(function*(){if(n.balance=yield n.api.getSectorBalanceGP({line:n.line}),"ok"!=n.balance.result)return n.loaded=!1,n.someError=!0,void(n.errorText="server error");n.loaded=!0,console.log(n.balance)})()}change(){var n=this;return(0,p.Z)(function*(){if(n.serial.includes("refresh")&&location.reload(),13===n.serial.length){n.sendSerial=n.serial,n.serial="";let t={line:n.line,checkpoint_id:n.selectedLine.code,serial:n.sendSerial};console.log(t);let r=yield n.api.Logistics(t);if(console.log(r),"error"==r.result)return n.added=!1,n.someError=!0,n.errorText=r.error,void(n.serial="");n.someError=!1,n.added=!0,n.addedText="kiritildi",n.balance=yield n.api.getSectorBalanceGP({line:n.line}),setTimeout(()=>{n.added=!1},3e3)}n.serial.length>13&&(n.serial="")})()}}return o.\u0275fac=function(n){return new(n||o)(e.Y36(f.g))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-income"]],decls:24,vars:8,consts:[[2,"text-align","center"],[1,"grid"],[1,"col-offset-0"],[2,"margin-left","20px"],["optionLabel","name",3,"options","ngModel","ngModelChange"],["type","text","id","serial","placeholder","Serial Nomer","autofocus","","pInputText","",2,"margin-left","20px",3,"ngModel","keyup","ngModelChange"],[2,"margin-left","20px","color","red",3,"hidden"],[2,"margin-left","20px","color","green",3,"hidden"],[4,"ngIf"],[3,"value","scrollable"],["pTemplate","header"],["pTemplate","body"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0)(1,"h2"),e._uU(2,"Yig'ish liniyasiga detallarni qabul qilish"),e.qZA()(),e.TgZ(3,"div",1)(4,"div",2)(5,"h3"),e._uU(6,"Qabul qilish liniyasi "),e.qZA()(),e.TgZ(7,"div",3)(8,"p-dropdown",4),e.NdJ("ngModelChange",function(d){return t.selectedLine=d}),e.qZA()()(),e.TgZ(9,"div",1)(10,"div",2)(11,"h3"),e._uU(12,"Serial nomer "),e.qZA()(),e.TgZ(13,"div",2)(14,"input",5),e.NdJ("keyup",function(){return t.change()})("ngModelChange",function(d){return t.serial=d}),e.qZA()(),e.TgZ(15,"div",2)(16,"p",6),e._uU(17),e.qZA(),e.TgZ(18,"h1",7),e._uU(19),e.qZA()()(),e.TgZ(20,"div",0)(21,"h2"),e._uU(22,"GP Komponentlar ro'yhati"),e.qZA()(),e.YNc(23,I,4,2,"div",8)),2&n&&(e.xp6(8),e.Q6J("options",t.lines)("ngModel",t.selectedLine),e.xp6(6),e.Q6J("ngModel",t.serial),e.xp6(2),e.Q6J("hidden",!t.someError),e.xp6(1),e.Oqu(t.errorText),e.xp6(1),e.Q6J("hidden",!t.added),e.xp6(1),e.Oqu(t.addedText),e.xp6(4),e.Q6J("ngIf",t.loaded))},directives:[u.Lt,a.JJ,a.On,a.Fj,g.o,c.O5,h.iA,v.jx],styles:[""]}),o})()}];let C=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[m.Bz.forChild(y)],m.Bz]}),o})(),x=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[c.ez,C,g.j,a.u5,h.U$,u.kW]]}),o})()}}]);