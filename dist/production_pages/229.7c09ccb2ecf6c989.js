"use strict";(self.webpackChunkproduction_pages=self.webpackChunkproduction_pages||[]).push([[229],{1229:(k,g,a)=>{a.r(g),a.d(g,{VakumModule:()=>O});var c=a(9808),f=a(4054),d=a(5861),e=a(7587),h=a(715),y=a(845),m=a(2382),v=a(1424),_=a(4851),o=a(9783);function u(i,l){1&i&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"Serial"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"Model"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"Time"),e.qZA()())}function r(i,l){if(1&i&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA()()),2&i){const t=l.$implicit;e.xp6(2),e.Oqu(t.serial),e.xp6(2),e.Oqu(t.model),e.xp6(2),e.Oqu(t.time)}}function Z(i,l){1&i&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"Model"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"Soni"),e.qZA()())}function b(i,l){if(1&i&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA()()),2&i){const t=l.$implicit;e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.count)}}function x(i,l){1&i&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"Code"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"Name"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"Quantity"),e.qZA()())}function q(i,l){if(1&i&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA()()),2&i){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.code),e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.quantity)}}function A(i,l){if(1&i&&e.YNc(0,q,7,3,"ng-template",19),2&i){const n=l.rowIndex;e.Q6J("ngIf",l.$implicit.quantity&&n%2!=0)}}function C(i,l){1&i&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"Code"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"Name"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"Quantity"),e.qZA()())}function M(i,l){if(1&i&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA()()),2&i){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.code),e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.quantity)}}function U(i,l){if(1&i&&e.YNc(0,M,7,3,"ng-template",19),2&i){const n=l.rowIndex;e.Q6J("ngIf",l.$implicit.quantity&&n%2==0)}}const V=[{path:"",component:(()=>{class i{constructor(t,n){this.api=t,this.renderer=n,this.time=new Date,this.line=1,this.serial="",this.added=!1,this.addedText="Kiritildi",this.someError=!1,this.errorText=""}ngOnInit(){var t=this;return(0,d.Z)(function*(){t.intervalId=setInterval(()=>{t.time=new Date},1e3);let n={line:t.line};t.lastProduct=yield t.api.getLast(n),t.count=yield t.api.getToday(n),t.byModel=yield t.api.getTodayByModels(n),t.rest=yield t.api.getSectorBalance(n)})()}requestSerial(t){var n=this;return(0,d.Z)(function*(){let p={id:Number(t)},s=yield n.api.VakumSerial(p);console.log(s),"ok"!=s.result?(n.someError=!0,n.added=!1,n.errorText=`${s.error}`):(n.someError=!1,n.errorText="");let T={line:n.line};n.lastProduct=yield n.api.getLast(T),n.count=yield n.api.getToday(T),n.byModel=yield n.api.getTodayByModels(T),n.rest=yield n.api.getSectorBalance(T),n.renderer.selectRootElement("#serial").focus()})()}change(){this.serial.includes("clear")&&(this.serial=""),this.serial.includes("refresh")&&location.reload(),13===this.serial.length&&(this.sendSerial=this.serial,this.serial="",this.submit())}submit(){var t=this;return(0,d.Z)(function*(){let n={serial:t.sendSerial,line:t.line},p=yield t.api.serialInput(n);if(t.serial="",console.log("result: ",p),"ok"!=p.result)return t.someError=!0,t.added=!1,void(t.errorText=`${p.error}`);t.someError=!1,t.errorText="";let s={line:t.line};t.lastProduct=yield t.api.getLast(s),t.count=yield t.api.getToday(s),t.byModel=yield t.api.getTodayByModels(s),t.rest=yield t.api.getSectorBalance(s),t.renderer.selectRootElement("#serial").focus(),t.added=!0,setTimeout(()=>{t.added=!1},3e3)})()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(h.g),e.Y36(e.Qsj))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-vakum"]],decls:60,vars:11,consts:[[1,"card"],[1,"flex","justify-content-start","flex-wrap","card-container"],[1,"col","flex","align-items-center","justify-content-center"],["pButton","","type","button","label","211",1,"p-button-success",2,"min-width","100%","height","150%","text-align","center","color","black",3,"click"],["pButton","","type","button","label","261",1,"p-button-success",2,"min-width","100%","height","150%","text-align","center","color","black",3,"click"],["pButton","","type","button","label","211",1,"p-button-secondary",2,"min-width","100%","height","150%","text-align","center","color","black",3,"click"],["pButton","","type","button","label","261",1,"p-button-secondary",2,"min-width","100%","height","150%","text-align","center","color","black",3,"click"],[1,"col","flex","align-items-center","justify-content-start"],["type","text","id","serial","placeholder","Serial Nomer","autofocus","","pInputText","",2,"margin-left","20px",3,"ngModel","keyup","ngModelChange"],[2,"padding-left","10px"],[1,"card",2,"padding-left","70px","margin-right","70px","padding-top","10px"],[1,"flex","flex-wrap","absolute","top-0","right-0","align-items-center","justify-content-right"],[2,"padding-right","100px"],[1,"grid"],[1,"col"],["responsiveLayout","scroll",3,"value"],["pTemplate","header"],["pTemplate","body"],["styleClass","p-datatable-sm",3,"value"],[3,"ngIf"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),e._uU(4,"Vakum Formovka"),e.qZA()()()(),e.TgZ(5,"div",0)(6,"div",1)(7,"div",2)(8,"h1"),e._uU(9,"Shkaf"),e.qZA()()()(),e.TgZ(10,"div",0)(11,"div",1)(12,"div",2)(13,"button",3),e.NdJ("click",function(){return n.requestSerial(1)}),e.qZA()(),e.TgZ(14,"div",2)(15,"button",4),e.NdJ("click",function(){return n.requestSerial(3)}),e.qZA()()()(),e.TgZ(16,"div",0)(17,"div",1)(18,"div",2)(19,"h1"),e._uU(20,"Zadniy"),e.qZA()()()(),e.TgZ(21,"div",0)(22,"div",1)(23,"div",2)(24,"button",5),e.NdJ("click",function(){return n.requestSerial(6)}),e.qZA()(),e.TgZ(25,"div",2)(26,"button",6),e.NdJ("click",function(){return n.requestSerial(7)}),e.qZA()()()(),e.TgZ(27,"div",0)(28,"div",1)(29,"div",7)(30,"input",8),e.NdJ("keyup",function(){return n.change()})("ngModelChange",function(s){return n.serial=s}),e.qZA(),e.TgZ(31,"h2",9),e._uU(32),e.qZA()()()(),e.TgZ(33,"div",10)(34,"div",11)(35,"h1",12),e._uU(36),e.ALo(37,"date"),e.qZA()(),e.TgZ(38,"div",0)(39,"div",13)(40,"div",14)(41,"p-table",15),e.YNc(42,u,7,0,"ng-template",16),e.YNc(43,r,7,3,"ng-template",17),e.qZA()(),e.TgZ(44,"div",14)(45,"p-table",15),e.YNc(46,Z,5,0,"ng-template",16),e.YNc(47,b,5,2,"ng-template",17),e.qZA()()()(),e.TgZ(48,"h2"),e._uU(49,"Mavjud detallar ro'yhati "),e.qZA(),e.TgZ(50,"div",0)(51,"div",13)(52,"div",14)(53,"p-table",18),e.YNc(54,x,7,0,"ng-template",16),e.YNc(55,A,1,1,"ng-template",17),e.qZA()(),e.TgZ(56,"div",14)(57,"p-table",18),e.YNc(58,C,7,0,"ng-template",16),e.YNc(59,U,1,1,"ng-template",17),e.qZA()()()()()),2&t&&(e.xp6(30),e.Q6J("ngModel",n.serial),e.xp6(2),e.AsE("Bugun ishlab chiqarilgan maxsulot soni: ",null==n.count?null:n.count.smena1,"/",null==n.count?null:n.count.smena2,""),e.xp6(4),e.Oqu(e.xi3(37,8,n.time,"HH:mm:ss")),e.xp6(5),e.Q6J("value",n.lastProduct),e.xp6(4),e.Q6J("value",n.byModel),e.xp6(8),e.Q6J("value",n.rest),e.xp6(4),e.Q6J("value",n.rest))},directives:[y.Hq,m.Fj,v.o,m.JJ,m.On,_.iA,o.jx,c.O5],pipes:[c.uU],styles:[""]}),i})()}];let S=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[f.Bz.forChild(V)],f.Bz]}),i})();var N=a(4534);let O=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[c.ez,S,y.hJ,m.u5,N.V,_.U$,v.j]]}),i})()},4534:(k,g,a)=>{a.d(g,{V:()=>_});var c=a(7587),f=a(9808);let _=(()=>{class o{}return o.\u0275fac=function(r){return new(r||o)},o.\u0275mod=c.oAB({type:o}),o.\u0275inj=c.cJS({imports:[[f.ez]]}),o})()}}]);